extends layout

block content
    

    if method === 'POST'
        h1 Create a todo
        form(action='/todos', method='POST')
            p
                | message : 
                input(type='text', name='message', value='')
                br
                | completion : 

                select(name='completion')
                    option(value='todo' selected) todo
                    option(value='in progress') in progress
                    option(value='done') done
            input(type='submit', value='submit')

    else if method === 'PATCH'
        h1 Update a todo
        form(action='/todos/' + todo.id + '?_method=PATCH', method='POST')
            p
                | message : 
                input(type='text', name='message', value=todo.message)
                br
                | completion : 

                select(name='completion')

                    if todo.completion === 'todo'
                        option(value='todo' selected) todo
                    else 
                        option(value='todo') todo

                    if todo.completion === 'in progress'
                        option(value='in progress' selected) in progress
                    else 
                        option(value='in progress') in progress

                    if todo.completion === 'done'
                        option(value='done' selected) done
                    else 
                        option(value='done') done

            input(type='submit', value='update')